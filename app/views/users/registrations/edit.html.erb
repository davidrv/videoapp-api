<h2>Edit <%= resource_name.to_s.humanize %></h2>

<%= simple_form_for(resource, as: resource_name, url: registration_path(resource_name), html: { method: :put }) do |f| %>
  <%= render "users/shared/error_messages", resource: resource %>

  <%= f.input :email %>
  <%= f.input :password %>
  <%= f.input :password_confirmation %>
  <%= f.input :current_password %>
  <%= f.submit "Update", class: "btn btn-secondary" %>
<% end %>

<br />
<h3>Upgrade my account</h3>

<%= simple_form_for(:plan, url: upgrade_account_path) do |f| %>
  <%= f.input :id, label: 'Plan', as: :select, collection: Plan.all.map { |p| [p.name, p.id] }, selected: current_user.plan.id %>
  <%= f.submit "Update", class: "btn btn-primary" %>
<% end %>

<br />
<h3>Cancel my account</h3>

<p>Unhappy? <%= button_to "Cancel my account", registration_path(resource_name), data: { 'turbo-method': :delete, confirm: "Are you sure?" }, method: :delete, class: "btn btn-danger" %></p>
